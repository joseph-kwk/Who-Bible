<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Who-Bible</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <div class="app">
    <header>
      <div>
        <h1>Who-Bible</h1>
        <div class="muted">Who did this? At what age? Who's mother? Occupations & events — accurate refs included.</div>
      </div>
      <div class="controls">
        <button id="btn-solo" class="primary">Start Solo Quiz</button>
        <button id="btn-timed">Timed Mode</button>
        <button id="btn-challenge">Challenge Mode</button>
        <button id="btn-study">Study Mode</button>
        <button id="btn-theme" title="Toggle theme">Theme</button>
      </div>
    </header>

    <main>
      <div class="grid">
        <aside class="card">
          <div class="brand" aria-hidden="false">
            <div class="brand-title">Who-Bible</div>
            <div class="brand-desc">A beautiful, accurate, and extensible Bible people challenge. Learn who did what, ages, mothers, occupations, and events — with verse references.</div>
          </div>
          <div style="margin-bottom:10px">
            <label for="difficulty">Difficulty</label>
            <select id="difficulty">
              <option value="easy">Beginner</option>
              <option value="medium" selected>Intermediate</option>
              <option value="hard">Expert</option>
            </select>
          </div>

          <div style="margin-bottom:10px">
            <label for="num-questions"># Questions</label>
            <input id="num-questions" type="text" value="10" />
          </div>

          <div style="margin-bottom:10px">
            <label for="time-limit">Timed: seconds</label>
            <input id="time-limit" type="text" value="60" />
          </div>

          <div style="margin-bottom:6px">
            <label for="search-person">Study: search people</label>
            <input id="search-person" type="text" placeholder="Type a name (e.g. Moses)" />
          </div>
          <div style="display:flex; gap:8px; margin-bottom:10px">
            <button id="btn-shuffle-list" title="Shuffle study list">Shuffle List</button>
            <button id="btn-export">Export JSON</button>
            <button id="btn-import">Import JSON</button>
            <button id="btn-reset-data">Reset Data</button>
            <input id="file-input" type="file" accept="application/json" style="display:none" />
          </div>

          <div class="study-controls">
            <div class="row">
              <label for="sort-select">Sort</label>
              <select id="sort-select">
                <option value="name-asc">Name (A–Z)</option>
                <option value="name-desc">Name (Z–A)</option>
              </select>
            </div>
            <div class="row filters">
              <label>Filters</label>
              <div class="chips">
                <label class="chip"><input type="checkbox" id="filter-mother" /> Mother known</label>
                <label class="chip"><input type="checkbox" id="filter-occupation" /> Occupation known</label>
                <label class="chip"><input type="checkbox" id="filter-age" /> Age notes</label>
              </div>
            </div>
            <div class="row" style="justify-content:space-between; align-items:center; gap:8px">
              <div class="muted small">People: <span id="people-count">0</span></div>
              <div class="inline-actions">
                <button id="btn-expand-all">Expand all</button>
                <button id="btn-collapse-all">Collapse all</button>
              </div>
            </div>
          </div>

          <div class="people-list card" id="people-list" style="padding:8px;">
            <!-- populated by JS -->
          </div>
        </aside>

        <section class="card" id="game-area">
          <div id="welcome">
            <p class="muted">Choose a mode to begin. The dataset is editable via Import, and persisted to your browser. Each question shows a verse reference after you answer.</p>
          </div>

          <div id="quiz" style="display:none">
            <div class="question" id="question-text"></div>
            <div class="answers" id="answers" role="listbox" aria-label="Answer choices"></div>
            <div class="status">
              <div class="small">Score: <span id="score">0</span></div>
              <div class="small">Streak: <span id="streak">0</span></div>
              <div class="small">Question: <span id="qnum">0</span>/<span id="qtotal">0</span></div>
              <div class="small timer" id="timer" aria-live="polite" style="display:none">Time: <span id="time-remaining">60</span>s</div>
            </div>
            <div class="progress" aria-hidden="true"><div id="progress-bar"></div></div>
            <div id="challenge-status" class="status" style="display:none">
              <div class="small">Player: <span id="current-player">1</span></div>
              <div class="small">P1: <span id="p1-score">0</span></div>
              <div class="small">P2: <span id="p2-score">0</span></div>
            </div>
            <div class="ref" id="after-ref" style="margin-top:8px"></div>
            <div style="margin-top:8px">
              <button id="btn-next" disabled>Next</button>
              <button id="btn-pause" style="display:none">Pause</button>
              <button id="btn-quit">Quit</button>
            </div>
          </div>
        </section>
      </div>

      <footer>
        Tip: you can Import a JSON array to replace the dataset. Data is saved to your browser so it persists between sessions.
      </footer>
    </main>
  </div>

  <noscript>This app requires JavaScript to run.</noscript>
  <script defer src="assets/js/app.js"></script>

  <!-- Summary Modal -->
  <div id="summary-modal" class="modal-overlay" style="display:none">
    <div class="modal">
      <div class="modal-header">
        <h2>Quiz Summary</h2>
        <button id="btn-summary-close" aria-label="Close">✕</button>
      </div>
      <div class="modal-body">
        <div id="summary-stats" class="summary-stats"></div>
        <div id="summary-list" class="summary-list"></div>
      </div>
      <div class="modal-footer">
        <button id="btn-play-again" class="primary">Play Again</button>
      </div>
    </div>
  </div>

  <!-- Challenge Player Setup Modal -->
  <div id="players-modal" class="modal-overlay" style="display:none">
    <div class="modal">
      <div class="modal-header">
        <h2>Challenge Setup</h2>
        <button id="btn-players-close" aria-label="Close">✕</button>
      </div>
      <div class="modal-body">
        <div class="row">
          <label for="p1-name">Player 1 name</label>
          <input id="p1-name" type="text" placeholder="P1" />
        </div>
        <div class="row">
          <label for="p2-name">Player 2 name</label>
          <input id="p2-name" type="text" placeholder="P2" />
        </div>
      </div>
      <div class="modal-footer">
        <button id="btn-players-cancel">Cancel</button>
        <button id="btn-players-start" class="primary">Start Challenge</button>
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

  
</body>
</html>

