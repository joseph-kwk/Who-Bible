<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Who-Bible</title>
  <link rel="icon" type="image/png" href="assets/images/logo.png" />
  <link rel="apple-touch-icon" href="assets/images/logo.png" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <script src="assets/js/translations.js" defer></script>
</head>
<body>
  <div class="app">
    <header>
      <div class="header-content">
        <div class="logo-section">
          <img src="assets/images/logo.png" alt="Who-Bible Logo" class="logo" />
          <div class="title-section">
            <h1 class="brand-title">Who-Bible</h1>
            <div class="muted brand-desc">A beautiful, accurate, and extensible Bible people challenge. Learn who did what, ages, mothers, occupations, and events ‚Äî with verse references.</div>
          </div>
        </div>
        <div class="controls">
          <div class="language-selector">
            <select id="language-select">
              <option value="en">English</option>
              <option value="fr">Fran√ßais</option>
              <option value="es">Espa√±ol</option>
            </select>
          </div>
          <nav class="site-nav" aria-label="Site">
            <a id="nav-community" href="#community" class="nav-link coming-soon" rel="noopener">Community</a>
            <button id="btn-share" class="icon-btn" title="Share" aria-label="Share">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <!-- Common share: arrow out of a box -->
                <path d="M12 3v12"/>
                <path d="M8 7l4-4 4 4"/>
                <path d="M5 13v5a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3v-5"/>
              </svg>
            </button>
          </nav>
          <button id="btn-theme" title="Toggle theme" class="theme-toggle" data-title-key="toggleTheme">
            <div class="theme-icon">
              <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
              </svg>
              <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
              </svg>
            </div>
          </button>
        </div>
      </div>
    </header>

    <main>
      <!-- Setup Panel -->
      <div id="setup-panel" class="setup-panel">
        <div class="brand">
          <div class="brand-title">Who-Bible</div>
          <div class="brand-desc">A beautiful, accurate, and extensible Bible people challenge. Learn who did what, ages, mothers, occupations, and events ‚Äî with verse references.</div>
        </div>
        
        <div class="setup-grid">
          <div class="setup-section">
            <h3>Game Settings</h3>
            <div class="setting-row">
              <label for="difficulty">Difficulty</label>
              <select id="difficulty">
                <option value="easy">Beginner</option>
                <option value="medium" selected>Intermediate</option>
                <option value="hard">Expert</option>
              </select>
            </div>
            <div class="setting-row">
              <label for="num-questions">Number of Questions</label>
              <input id="num-questions" type="number" value="10" min="1" max="50" />
            </div>
            <div class="setting-row">
              <label for="time-limit">Time Limit (seconds)</label>
              <input id="time-limit" type="number" value="60" min="10" max="300" />
            </div>
          </div>
          
          <div class="setup-section">
            <h3>Game Modes</h3>
            <div class="mode-buttons">
              <button id="btn-solo" class="mode-btn primary" data-mode="solo">
                <div class="mode-icon">üìö</div>
                <div class="mode-text">
                  <div class="mode-title">Solo Mode</div>
                  <div class="mode-desc">Practice at your own pace</div>
                </div>
              </button>
              <button id="btn-timed" class="mode-btn" data-mode="timed">
                <div class="mode-icon">‚è±Ô∏è</div>
                <div class="mode-text">
                  <div class="mode-title">Timed Mode</div>
                  <div class="mode-desc">Race against the clock</div>
                </div>
              </button>
              <button id="btn-challenge" class="mode-btn" data-mode="challenge">
                <div class="mode-icon">‚öîÔ∏è</div>
                <div class="mode-text">
                  <div class="mode-title">Challenge Mode</div>
                  <div class="mode-desc">Two players compete</div>
                </div>
              </button>
              <button id="btn-study" class="mode-btn" data-mode="study">
                <div class="mode-icon">üîç</div>
                <div class="mode-text">
                  <div class="mode-title">Study Mode</div>
                  <div class="mode-desc">Browse and learn</div>
                </div>
              </button>
            </div>
          </div>
          
          <div class="setup-section">
            <h3>Data Management</h3>
            <div class="data-buttons">
              <button id="btn-export">Export JSON</button>
              <button id="btn-import">Import JSON</button>
              <button id="btn-reset-data">Reset Data</button>
              <input id="file-input" type="file" accept="application/json" style="display:none" />
            </div>
          </div>
        </div>
      </div>

      <!-- Game Area -->
      <div id="game-area" class="game-area" style="display:none">
        <div class="game-header">
          <button id="btn-back-to-setup" class="back-btn">‚Üê Back to Setup</button>
          <div class="game-title" id="game-title">Game Mode</div>
        </div>
        
        <div class="game-content">
          <div id="quiz" style="display:none">
            <div class="welcome-message" id="welcome-message">
              <p>Click a mode button to start your quiz!</p>
            </div>
            <div class="question" id="question-text"></div>
            <div class="answers" id="answers" role="listbox" aria-label="Answer choices"></div>
            <div class="status">
              <div class="small">Score: <span id="score">0</span></div>
              <div class="small">Streak: <span id="streak">0</span></div>
              <div class="small">Question: <span id="qnum">0</span>/<span id="qtotal">0</span></div>
              <div class="small timer" id="timer" aria-live="polite" style="display:none">Time: <span id="time-remaining">60</span>s</div>
            </div>
            <div class="progress" aria-hidden="true"><div id="progress-bar"></div></div>
            <div id="challenge-status" class="status" style="display:none">
              <div class="small">Player: <span id="current-player">1</span></div>
              <div class="small">P1: <span id="p1-score">0</span></div>
              <div class="small">P2: <span id="p2-score">0</span></div>
            </div>
            <div class="ref" id="after-ref" style="margin-top:8px"></div>
            <div class="game-actions">
              <button id="btn-next" disabled>Next</button>
              <button id="btn-pause" style="display:none">Pause</button>
              <button id="btn-quit">Quit</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Study Panel -->
      <div id="study-panel" class="study-panel" style="display:none">
        <div class="study-header">
          <button id="btn-back-from-study" class="back-btn">‚Üê Back to Setup</button>
          <div class="study-title">Study Mode</div>
        </div>
        
        <div class="study-content">
          <div class="study-controls">
            <div class="search-row">
              <input id="search-person" type="text" placeholder="Search people (e.g. Moses)" />
              <button id="btn-shuffle-list" title="Shuffle study list">Shuffle</button>
            </div>
            
            <div class="filter-row">
              <div class="filter-group">
                <label for="sort-select">Sort by:</label>
                <select id="sort-select">
                  <option value="name-asc">Name (A‚ÄìZ)</option>
                  <option value="name-desc">Name (Z‚ÄìA)</option>
                </select>
              </div>
              <div class="filter-group">
                <label>Filters:</label>
                <div class="chips">
                  <label class="chip"><input type="checkbox" id="filter-mother" /> Mother</label>
                  <label class="chip"><input type="checkbox" id="filter-occupation" /> Occupation</label>
                  <label class="chip"><input type="checkbox" id="filter-age" /> Age notes</label>
                </div>
              </div>
            </div>
            
            <div class="study-actions">
              <div class="people-count">People: <span id="people-count">0</span></div>
              <div class="action-buttons">
                <button id="btn-expand-all">Expand all</button>
                <button id="btn-collapse-all">Collapse all</button>
              </div>
            </div>
          </div>
          
          <div class="people-list" id="people-list">
            <!-- populated by JS -->
          </div>
        </div>
      </div>
    </main>
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-top">
          <div class="footer-brand">
            <img src="assets/images/logo.png" alt="Who-Bible Logo" class="footer-logo" />
            <div class="footer-title">Who-Bible</div>
          </div>
          <a id="footer-community" href="#community" class="footer-link coming-soon" rel="noopener">Community</a>
        </div>
        <div class="footer-bottom">
          <p>¬© <span id="footer-year"></span> Who-Bible</p>
        </div>
      </div>
    </footer>
  </div>

  <noscript>This app requires JavaScript to run.</noscript>
  <script defer src="assets/js/app.js"></script>

  <!-- Summary Modal -->
  <div id="summary-modal" class="modal-overlay" style="display:none">
    <div class="modal">
      <div class="modal-header">
        <h2 id="summary-modal-title">Quiz Summary</h2>
        <button id="btn-summary-close" aria-label="Close">‚úï</button>
      </div>
      <div class="modal-body">
        <div id="summary-stats" class="summary-stats"></div>
        <div id="summary-list" class="summary-list"></div>
      </div>
      <div class="modal-footer">
        <button id="btn-play-again" class="primary">Play Again</button>
      </div>
    </div>
  </div>

  <!-- Challenge Player Setup Modal -->
  <div id="players-modal" class="modal-overlay" style="display:none">
    <div class="modal">
      <div class="modal-header">
  <h2 id="challenge-modal-title">Challenge Setup</h2>
        <button id="btn-players-close" aria-label="Close">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="row">
          <label for="p1-name" id="p1-name-label">Player 1 name</label>
          <input id="p1-name" type="text" placeholder="P1" />
        </div>
        <div class="row">
          <label for="p2-name" id="p2-name-label">Player 2 name</label>
          <input id="p2-name" type="text" placeholder="P2" />
        </div>
      </div>
      <div class="modal-footer">
        <button id="btn-players-cancel">Cancel</button>
        <button id="btn-players-start" class="primary">Start Challenge</button>
      </div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

</body>
</html>

