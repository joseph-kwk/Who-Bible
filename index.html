<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Who-Bible - Bible People Quiz Challenge</title>
  <meta name="description" content="Learn about Bible people through interactive quizzes. Test your knowledge of biblical characters, their deeds, ages, mothers, and occupations with verse references." />
  <link rel="icon" type="image/png" href="assets/images/logo.png" />
  <link rel="apple-touch-icon" href="assets/images/logo.png" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <script src="assets/js/translations.js" defer></script>
</head>
<body>
  <!-- Skip to main content link for keyboard navigation -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <div class="app">
    <header role="banner">
      <div class="header-content">
        <a href="#" id="home-link" class="logo-section" aria-label="Who-Bible Home">
          <img src="assets/images/logo.png" alt="Who-Bible Logo" class="logo" />
          <div class="title-section">
            <h1 class="brand-title">Who-Bible</h1>
            <p class="muted brand-desc">Interactive Bible people quiz with verse references</p>
          </div>
        </a>
        <div class="controls">
          <div class="language-selector">
            <label for="language-select" class="sr-only">Select Language</label>
            <select id="language-select" aria-label="Language Selection">
              <option value="en">English</option>
              <option value="fr">Fran√ßais</option>
              <option value="es">Espa√±ol</option>
            </select>
          </div>
          <nav class="site-nav" aria-label="Site Navigation">
            <a id="nav-community" href="community.html" target="_blank" class="nav-link" rel="noopener">Community</a>
            <button id="btn-share" class="icon-btn" title="Share" aria-label="Share this quiz">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M12 3v12"/>
                <path d="M8 7l4-4 4 4"/>
                <path d="M5 13v5a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3v-5"/>
              </svg>
            </button>
          </nav>
          <button id="btn-theme" title="Toggle theme" class="theme-toggle" data-title-key="toggleTheme" aria-label="Toggle dark/light theme">
            <div class="theme-icon">
              <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
              </svg>
              <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
              </svg>
            </div>
          </button>
        </div>
      </div>
    </header>

    <main role="main">
      <!-- Setup Panel -->
      <section id="setup-panel" class="setup-panel" aria-label="Quiz Setup">
        <div class="brand" id="main-content">
          <h2 class="brand-title">Who-Bible</h2>
          <p class="brand-desc">Interactive Bible people quiz featuring deeds, ages, mothers, occupations, and events with verse references.</p>
        </div>
        
        <div class="setup-grid">
          <section class="setup-section" aria-labelledby="settings-heading">
            <h3 id="settings-heading">Game Settings</h3>
            <div class="setting-row">
              <label for="difficulty">Difficulty Level</label>
              <select id="difficulty" aria-describedby="difficulty-help">
                <option value="easy">Beginner (Common figures)</option>
                <option value="medium" selected>Intermediate (Mixed)</option>
                <option value="hard">Expert (All characters)</option>
              </select>
              <small id="difficulty-help" class="sr-only">Choose difficulty level based on biblical knowledge</small>
            </div>
            <div class="setting-row">
              <label for="num-questions">Number of Questions</label>
              <input id="num-questions" type="number" value="10" min="1" max="50" aria-describedby="questions-help" />
              <small id="questions-help" class="sr-only">Between 1 and 50 questions</small>
            </div>
            <div class="setting-row">
              <label for="time-limit">Time Limit (seconds)</label>
              <input id="time-limit" type="number" value="60" min="10" max="300" aria-describedby="time-help" />
              <small id="time-help" class="sr-only">For timed mode only, between 10 and 300 seconds</small>
            </div>
          </section>
          
          <section class="setup-section" aria-labelledby="modes-heading">
            <h3 id="modes-heading">Game Modes</h3>
            <div class="mode-buttons" role="group" aria-labelledby="modes-heading">
              <button id="btn-solo" class="mode-btn primary" data-mode="solo" aria-describedby="solo-desc">
                <div class="mode-icon" aria-hidden="true">üìö</div>
                <div class="mode-text">
                  <div class="mode-title">Solo Mode</div>
                  <div class="mode-desc" id="solo-desc">Practice at your own pace</div>
                </div>
              </button>
              <button id="btn-timed" class="mode-btn" data-mode="timed" aria-describedby="timed-desc">
                <div class="mode-icon" aria-hidden="true">‚è±Ô∏è</div>
                <div class="mode-text">
                  <div class="mode-title">Timed Mode</div>
                  <div class="mode-desc" id="timed-desc">Race against the clock</div>
                </div>
              </button>
              <button id="btn-challenge" class="mode-btn" data-mode="challenge" aria-describedby="challenge-desc">
                <div class="mode-icon" aria-hidden="true">‚öîÔ∏è</div>
                <div class="mode-text">
                  <div class="mode-title">Challenge Mode</div>
                  <div class="mode-desc" id="challenge-desc">Two players compete</div>
                </div>
              </button>
              <button id="btn-study" class="mode-btn" data-mode="study" aria-describedby="study-desc">
                <div class="mode-icon" aria-hidden="true">üîç</div>
                <div class="mode-text">
                  <div class="mode-title">Study Mode</div>
                  <div class="mode-desc" id="study-desc">Browse and learn</div>
                </div>
              </button>
            </div>
          </section>
          
          <section class="setup-section" aria-labelledby="data-heading">
            <h3 id="data-heading">Data Management</h3>
            <div class="data-buttons" role="group" aria-labelledby="data-heading">
              <button id="btn-export" aria-describedby="export-help">Export JSON</button>
              <button id="btn-import" aria-describedby="import-help">Import JSON</button>
              <button id="btn-reset-data" aria-describedby="reset-help">Reset Data</button>
              <input id="file-input" type="file" accept="application/json,.json" style="display:none" aria-label="Choose JSON file to import" />
            </div>
            <div class="data-help">
              <small id="export-help" class="sr-only">Export your current people data as JSON</small>
              <small id="import-help" class="sr-only">Import custom people data from JSON file</small>
              <small id="reset-help" class="sr-only">Reset to default Bible people dataset</small>
            </div>
          </section>
        </div>
      </section>

      <!-- Game Area -->
            <!-- Game Area -->
      <section id="game-area" style="display:none" role="main" aria-label="Quiz Game">
        <div class="game-container">
          <header class="game-header" role="banner">
            <div class="timer-container" aria-live="polite">
              <div id="timer" class="timer" aria-label="Time remaining">Time: 00:00</div>
            </div>
            <div class="score-container" aria-live="polite">
              <div id="score" class="score" aria-label="Current score">Score: 0/0</div>
            </div>
            <div class="question-counter" aria-live="polite">
              <div id="question-counter" aria-label="Question progress">Question 0/0</div>
            </div>
          </header>
          
          <main class="question-content" role="main">
            <div id="question-text" class="question-text" aria-live="assertive"></div>
            <div id="question-clue" class="question-clue" aria-live="polite"></div>
            
            <div class="choices-container" role="group" aria-labelledby="question-text">
              <button id="choice-a" class="choice-btn" data-choice="a" aria-describedby="choice-a-desc"></button>
              <button id="choice-b" class="choice-btn" data-choice="b" aria-describedby="choice-b-desc"></button>
              <button id="choice-c" class="choice-btn" data-choice="c" aria-describedby="choice-c-desc"></button>
              <button id="choice-d" class="choice-btn" data-choice="d" aria-describedby="choice-d-desc"></button>
            </div>
            
            <div class="game-controls">
              <button id="btn-hint" class="control-btn" aria-describedby="hint-help">Get Hint</button>
              <button id="btn-next" class="control-btn primary" style="display:none" aria-describedby="next-help">Next Question</button>
              <button id="btn-finish" class="control-btn primary" style="display:none" aria-describedby="finish-help">Finish Quiz</button>
              <button id="btn-quit" class="control-btn secondary" aria-describedby="quit-help">Quit Game</button>
            </div>
            
            <div class="control-help">
              <small id="hint-help" class="sr-only">Reveal a helpful clue for this question</small>
              <small id="next-help" class="sr-only">Proceed to the next question</small>
              <small id="finish-help" class="sr-only">Complete the quiz and see results</small>
              <small id="quit-help" class="sr-only">Exit the quiz and return to setup</small>
            </div>
          </main>
        </div>
      </section>

      <!-- Study Panel -->
            <!-- Study Panel -->
      <section id="study-panel" style="display:none" role="main" aria-labelledby="study-heading">
        <header class="study-header">
          <h2 id="study-heading">Study Mode - Bible People Explorer</h2>
          <div class="study-controls">
            <button id="btn-random-person" class="control-btn" aria-describedby="random-help">Random Person</button>
            <button id="btn-back-to-setup" class="control-btn secondary" aria-describedby="back-help">Back to Setup</button>
          </div>
          <div class="study-help">
            <small id="random-help" class="sr-only">Display information about a randomly selected Bible person</small>
            <small id="back-help" class="sr-only">Return to game mode selection</small>
          </div>
        </header>
        
        <main class="study-content" role="main">
          <article id="person-card" class="person-card" aria-live="polite">
            <div class="person-image-container">
              <img id="person-image" src="" alt="" class="person-image" />
            </div>
            <div class="person-info">
              <h3 id="person-name" class="person-name"></h3>
              <div class="person-details">
                <div class="detail-item">
                  <span class="detail-label">Gender:</span>
                  <span id="person-gender" class="detail-value"></span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Notable Events:</span>
                  <div id="person-events" class="detail-value events-list"></div>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Occupations:</span>
                  <div id="person-occupations" class="detail-value occupations-list"></div>
                </div>
              </div>
            </div>
          </article>
        </main>
      </section>

    </main>
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-top">
          <div class="footer-brand">
            <img src="assets/images/logo.png" alt="Who-Bible Logo" class="footer-logo" />
            <div class="footer-title">Who-Bible</div>
          </div>
          <a id="footer-community" href="#community" class="footer-link coming-soon" rel="noopener">Community</a>
        </div>
        <div class="footer-bottom">
          <p>¬© <span id="footer-year"></span> Who-Bible</p>
        </div>
      </div>
    </footer>
  </div>

  <noscript>This app requires JavaScript to run.</noscript>
  <script defer src="assets/js/app.js"></script>

  <!-- Summary Modal -->
  <div id="summary-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="summary-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="summary-modal-title">Quiz Summary</h2>
        <button id="btn-summary-close" aria-label="Close quiz summary">‚úï</button>
      </header>
      <main class="modal-body" aria-live="polite">
        <div id="summary-stats" class="summary-stats"></div>
        <div id="summary-list" class="summary-list"></div>
      </main>
      <footer class="modal-footer">
        <button id="btn-play-again" class="primary" aria-describedby="play-again-help">Play Again</button>
        <div class="modal-help">
          <small id="play-again-help" class="sr-only">Start a new quiz with the same settings</small>
        </div>
      </footer>
    </div>
  </div>

  <!-- Challenge Player Setup Modal -->
  <div id="players-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="challenge-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="challenge-modal-title">Challenge Setup</h2>
        <button id="btn-players-close" aria-label="Close challenge setup">‚úï</button>
      </header>
      <main class="modal-body">
        <div class="row">
          <label for="p1-name" id="p1-name-label">Player 1 name</label>
          <input id="p1-name" type="text" placeholder="P1" aria-describedby="p1-help" />
          <small id="p1-help" class="sr-only">Enter name for first player</small>
        </div>
        <div class="row">
          <label for="p2-name" id="p2-name-label">Player 2 name</label>
          <input id="p2-name" type="text" placeholder="P2" aria-describedby="p2-help" />
          <small id="p2-help" class="sr-only">Enter name for second player</small>
        </div>
      </main>
      <footer class="modal-footer">
        <button id="btn-players-cancel" aria-describedby="cancel-help">Cancel</button>
        <button id="btn-players-start" class="primary" aria-describedby="start-help">Start Challenge</button>
        <div class="modal-help">
          <small id="cancel-help" class="sr-only">Cancel challenge setup and return to game modes</small>
          <small id="start-help" class="sr-only">Begin two-player challenge mode</small>
        </div>
      </footer>
    </div>
  </div>  <!-- Community Modal (for room details etc.) -->
  <div id="community-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="community-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="community-modal-title">Details</h2>
        <button id="btn-community-close" aria-label="Close community details">‚úï</button>
      </header>
      <main class="modal-body" id="community-modal-body" aria-live="polite">
        <!-- populated dynamically -->
      </main>
      <footer class="modal-footer">
        <button id="btn-community-ok" class="primary">Close</button>
      </footer>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

</body>
</html>

