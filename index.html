<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Who-Bible - Bible People Quiz Challenge</title>
  <meta name="description" content="Learn about Bible people through interactive quizzes. Test your knowledge of biblical characters, their deeds, ages, mothers, and occupations with verse references." />
  <link rel="icon" type="image/png" href="assets/images/logo.png" />
  <link rel="apple-touch-icon" href="assets/images/logo.png" />
  <link rel="stylesheet" href="assets/css/styles.css?v=20260110c" />
  <link rel="stylesheet" href="assets/css/welcome-modal.css?v=20260110c" />
  <link rel="stylesheet" href="assets/css/feedback-modal.css?v=20260110c" />
  <link rel="stylesheet" href="assets/css/guest-prompts.css?v=20260116" />
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  
  <!-- App Scripts -->
  <script src="assets/js/firebase-config.js?v=20260110b"></script>
  <script src="assets/js/remote-challenge.js?v=20260110b"></script>
  <script src="assets/js/remote-challenge-ui.js?v=20260110b"></script>
  <script src="assets/js/scenarios.js?v=20260110b" defer></script>
  <script src="assets/js/locations.js?v=20260110b" defer></script>
  <script src="assets/js/concepts.js?v=20260110b" defer></script>
  <script src="assets/js/relationships.js?v=20260110b" defer></script>
  <script src="assets/js/translations.js?v=20260110b" defer></script>
  <script src="assets/js/guest-prompts.js?v=20260116" defer></script>
  <script src="assets/js/app.js?v=20260110b" defer></script>
</head>
<body>
  <!-- Skip to main content link for keyboard navigation -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <div class="app">
    <header role="banner">
      <div class="header-content">
        <a href="#" id="home-link" class="logo-section" aria-label="Who-Bible Home">
          <img src="assets/images/logo.png" alt="Who-Bible Logo" class="logo" />
          <div class="title-section">
            <h1 class="brand-title">Who-Bible</h1>
            <p class="muted brand-desc">Interactive Bible people quiz with verse references</p>
          </div>
        </a>
        <div class="controls">
          <button id="btn-theme" title="Toggle theme" class="theme-toggle" data-title-key="toggleTheme" aria-label="Toggle dark/light theme">
            <div class="theme-icon">
              <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/>
                <line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/>
                <line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
              </svg>
              <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
              </svg>
            </div>
          </button>

          <button id="btn-menu" class="icon-btn menu-toggle" aria-label="Toggle Menu">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>

          <div class="nav-menu-container" id="nav-menu-container">
            <div class="language-selector">
              <label for="language-select" class="sr-only">Select Language</label>
              <select id="language-select" aria-label="Language Selection">
                <option value="en">English</option>
                <option value="fr">Fran√ßais</option>
                <option value="es">Espa√±ol</option>
              </select>
            </div>
            <nav class="site-nav" aria-label="Site Navigation">
              <a id="nav-community" href="community.html" target="_blank" class="nav-link" rel="noopener">Community</a>
              <button id="btn-share" class="icon-btn" title="Share" aria-label="Share this quiz">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <path d="M12 3v12"/>
                  <path d="M8 7l4-4 4 4"/>
                  <path d="M5 13v5a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3v-5"/>
                </svg>
              </button>
            </nav>
          </div>
        </div>
      </div>
    </header>

    <main role="main">
      <!-- Setup Panel -->
      <section id="setup-panel" class="setup-panel" aria-label="Quiz Setup">
        <div class="brand" id="main-content">
          <h2 class="brand-title">Who-Bible</h2>
          <p class="brand-desc">Explore the Bible through interactive quizzes, character studies, and moral scenarios.</p>
        </div>
        
        <!-- Player Welcome & Stats -->
        <div id="welcome-message" class="player-welcome"></div>
        
        <div class="setup-grid">
          <section class="setup-section" aria-labelledby="player-heading">
            <h3 id="player-heading">Player</h3>
            <div class="player-controls">
              <button id="btn-change-player" class="mode-btn" style="padding: 12px 20px; min-height: auto;">
                <span id="current-player-name">Guest</span>
                <div class="mode-desc" style="font-size: 12px; margin-top: 4px;">Click to change player</div>
              </button>
            </div>
          </section>
          
          <section class="setup-section" aria-labelledby="settings-heading">
            <h3 id="settings-heading">Game Settings</h3>
            <div class="setting-row">
              <label for="difficulty">Difficulty Level</label>
              <select id="difficulty" aria-describedby="difficulty-help">
                <option value="easy">Beginner (Common figures)</option>
                <option value="medium" selected>Intermediate (Mixed)</option>
                <option value="hard">Expert (All characters)</option>
              </select>
              <small id="difficulty-help" class="sr-only">Choose difficulty level based on biblical knowledge</small>
            </div>
            <div class="setting-row">
              <label for="num-questions">Number of Questions</label>
              <input id="num-questions" type="number" value="10" min="1" max="50" aria-describedby="questions-help" />
              <small id="questions-help" class="sr-only">Between 1 and 50 questions</small>
            </div>
            <div class="setting-row">
              <label for="time-limit">Time Limit (seconds)</label>
              <input id="time-limit" type="number" value="60" min="10" max="300" aria-describedby="time-help" />
              <small id="time-help" class="sr-only">For timed mode only, between 10 and 300 seconds</small>
            </div>
            <div class="setting-row">
              <label for="testament-filter">Testament</label>
              <select id="testament-filter" aria-label="Filter by testament">
                <option value="all">All (OT + NT)</option>
                <option value="ot">Old Testament</option>
                <option value="nt">New Testament</option>
              </select>
            </div>
            <div class="setting-row">
              <label for="gender-filter">Gender</label>
              <select id="gender-filter" aria-label="Filter by gender">
                <option value="all">All</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
            </div>
          </section>
          
          <section class="setup-section" aria-labelledby="modes-heading">
            <h3 id="modes-heading">Game Modes</h3>
            <div class="mode-buttons" role="group" aria-labelledby="modes-heading">
              <button id="btn-solo" class="mode-btn primary" data-mode="solo" aria-describedby="solo-desc">
                <div class="mode-icon" aria-hidden="true">üìö</div>
                <div class="mode-text">
                  <div class="mode-title">Solo Mode</div>
                  <div class="mode-desc" id="solo-desc">Practice at your own pace</div>
                </div>
              </button>
              <button id="btn-timed" class="mode-btn" data-mode="timed" aria-describedby="timed-desc">
                <div class="mode-icon" aria-hidden="true">‚è±Ô∏è</div>
                <div class="mode-text">
                  <div class="mode-title">Timed Mode</div>
                  <div class="mode-desc" id="timed-desc">Race against the clock</div>
                </div>
              </button>
              <button id="btn-challenge" class="mode-btn" data-mode="challenge" aria-describedby="challenge-desc">
                <div class="mode-icon" aria-hidden="true">‚öîÔ∏è</div>
                <div class="mode-text">
                  <div class="mode-title">Challenge Mode</div>
                  <div class="mode-desc" id="challenge-desc">Two players, same device</div>
                </div>
              </button>
              <button id="btn-study" class="mode-btn" data-mode="study" aria-describedby="study-desc">
                <div class="mode-icon" aria-hidden="true">üîç</div>
                <div class="mode-text">
                  <div class="mode-title">Study Mode</div>
                  <div class="mode-desc" id="study-desc">Browse and learn</div>
                </div>
              </button>
              <button id="btn-scenarios" class="mode-btn" data-mode="scenarios" aria-describedby="scenarios-desc" aria-label="Start Scenarios Mode - Biblical moral dilemmas and decisions">
                <div class="mode-icon" aria-hidden="true">üé≠</div>
                <div class="mode-text">
                  <div class="mode-title">Scenarios Mode</div>
                  <div class="mode-desc" id="scenarios-desc">Moral dilemmas & decisions</div>
                </div>
              </button>
            </div>
          </section>
          
          <section class="setup-section remote-challenge-card" aria-labelledby="remote-heading">
            <div class="remote-challenge-hero">
              <div class="remote-challenge-icon">üåê</div>
              <div class="remote-challenge-content">
                <h3 id="remote-heading">Play Online with Friends</h3>
                <p class="remote-challenge-desc">Challenge anyone, anywhere! Create a room, share the link, and compete in real-time.</p>
                <div style="display: flex; gap: 12px; margin-top: 16px;">
                  <button id="btn-remote-challenge" class="remote-challenge-btn" data-mode="remote" aria-describedby="remote-desc" style="flex: 1;">
                    <span class="remote-btn-icon">üéÆ</span>
                    <span>Remote Challenge</span>
                  </button>
                  <button id="btn-classroom-mode" class="remote-challenge-btn" style="flex: 1; background: linear-gradient(135deg, #26890c, #4caf50);">
                    <span class="remote-btn-icon">üè´</span>
                    <span>Classroom Mode</span>
                  </button>
                </div>
                <p class="remote-challenge-note" id="remote-desc">
                  <span class="remote-status-icon">‚úì</span> No sign-up required ‚Ä¢ Kahoot-style gameplay ‚Ä¢ Live leaderboard
                </p>
              </div>
            </div>
          </section>
        </div>
      </section>

      <!-- Game Area -->
      <section id="game-area" style="display:none" role="main" aria-label="Quiz Game">
        <div class="game-container">
          <header class="game-header" role="banner">
            <button id="btn-back-to-setup" class="back-btn" aria-label="Back to Setup">‚Üê Back</button>
            <div id="game-title" class="game-title">Quiz Mode</div>
            <div id="timer" class="timer" style="display:none" aria-live="polite">
              <span>‚è±Ô∏è</span>
              <span id="time-remaining">60</span>s
            </div>
          </header>
          
          <div class="game-stats">
            <div class="stat-item">
              <span class="stat-label">Score:</span>
              <span id="score" class="stat-value">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Streak:</span>
              <span id="streak" class="stat-value">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Question:</span>
              <span id="qnum" class="stat-value">1</span>/<span id="qtotal" class="stat-value">10</span>
            </div>
            <div id="challenge-status" class="challenge-status" style="display:none">
              <div>Player <span id="current-player">1</span>'s Turn</div>
              <div>P1: <span id="p1-score">0</span> | P2: <span id="p2-score">0</span></div>
            </div>
          </div>
          
          <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
          
          <main id="quiz" class="quiz-content">
            <div id="question-text" class="question-text" aria-live="assertive"></div>
            <div id="answers" class="answers-container" role="group" aria-label="Answer choices"></div>
            <div id="after-ref" class="after-ref" aria-live="polite"></div>
          </main>
          
          <div class="game-controls">
            <button id="btn-pause" class="control-btn" style="display:none" aria-label="Pause/Resume Timer">Pause</button>
            <button id="btn-next" class="control-btn primary" disabled aria-label="Next Question">Next</button>
            <button id="btn-quit" class="control-btn secondary" aria-label="Quit Game">Quit</button>
          </div>
        </div>
      </section>

      <!-- Study Panel -->
      <section id="study-panel" style="display:none" role="main" aria-labelledby="study-heading">
        <div class="study-container">
          <header class="study-header">
            <div class="study-header-top">
              <button id="btn-back-from-study" class="back-btn" aria-label="Back to Setup">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                  <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Back
              </button>
              <div class="study-title-section">
                <h2 id="study-heading">Bible People Explorer</h2>
                <p class="study-subtitle">Discover and learn about biblical characters</p>
              </div>
            </div>
            
            <div class="study-search-section">
              <div class="search-bar-wrapper">
                <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                  <circle cx="11" cy="11" r="8"/>
                  <path d="m21 21-4.35-4.35"/>
                </svg>
                <label for="search-person" class="sr-only">Search Bible people</label>
                <input id="search-person" type="text" placeholder="Search by name, occupation, or event..." aria-label="Search Bible people" />
              </div>
              
              <div class="study-filter-row">
                <div class="filter-group">
                  <label for="sort-select" class="filter-label">Sort by:</label>
                  <select id="sort-select" aria-label="Sort order">
                    <option value="name-asc">Name (A-Z)</option>
                    <option value="name-desc">Name (Z-A)</option>
                  </select>
                </div>
                
                <div class="filter-chips">
                  <label class="filter-chip">
                    <input id="filter-mother" type="checkbox" />
                    <span class="chip-text">Has Mother</span>
                  </label>
                  <label class="filter-chip">
                    <input id="filter-occupation" type="checkbox" />
                    <span class="chip-text">Has Occupation</span>
                  </label>
                  <label class="filter-chip">
                    <input id="filter-age" type="checkbox" />
                    <span class="chip-text">Has Age Info</span>
                  </label>
                </div>
              </div>
            </div>
            
            <div class="study-actions-bar">
              <div class="people-count-display">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                  <circle cx="9" cy="7" r="4"/>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
                <span><strong id="people-count">0</strong> people</span>
              </div>
              <div class="study-controls">
                <button id="btn-expand-all" class="control-btn-icon" aria-label="Expand all person details" title="Expand All">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <polyline points="7 13 12 18 17 13"/>
                    <polyline points="7 6 12 11 17 6"/>
                  </svg>
                </button>
                <button id="btn-collapse-all" class="control-btn-icon" aria-label="Collapse all person details" title="Collapse All">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <polyline points="17 11 12 6 7 11"/>
                    <polyline points="17 18 12 13 7 18"/>
                  </svg>
                </button>
                <button id="btn-shuffle-list" class="control-btn-icon" aria-label="Shuffle the list" title="Shuffle">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <polyline points="16 3 21 3 21 8"/>
                    <line x1="4" y1="20" x2="21" y2="3"/>
                    <polyline points="21 16 21 21 16 21"/>
                    <line x1="15" y1="15" x2="21" y2="21"/>
                    <line x1="4" y1="4" x2="9" y2="9"/>
                  </svg>
                </button>
              </div>
            </div>
          </header>
          
          <main class="study-content">
            <div id="people-list" class="people-list" aria-live="polite"></div>
          </main>
        </div>
      </section>

    </main>
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="assets/images/logo.png" alt="Who-Bible Logo" class="footer-logo" />
          <div class="footer-title">Who-Bible</div>
        </div>
        
        <div class="footer-nav">
          <a id="footer-community" href="community.html" class="footer-link coming-soon" rel="noopener">Community</a>
        </div>
        
        <div class="footer-bottom">
          <p>¬© <span id="footer-year"></span> Who-Bible</p>
          <button id="btn-feedback" class="footer-feedback-btn" type="button">Feedback</button>
        </div>
      </div>
    </footer>
  </div>

  <noscript>This app requires JavaScript to run.</noscript>

  <!-- Summary Modal -->
  <div id="summary-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="summary-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="summary-modal-title">Quiz Summary</h2>
        <button id="btn-summary-close" aria-label="Close quiz summary">‚úï</button>
      </header>
      <main class="modal-body" aria-live="polite">
        <div id="summary-stats" class="summary-stats"></div>
        <div id="summary-list" class="summary-list"></div>
      </main>
      <footer class="modal-footer">
        <button id="btn-play-again" class="primary" aria-describedby="play-again-help">Play Again</button>
        <div class="modal-help">
          <small id="play-again-help" class="sr-only">Start a new quiz with the same settings</small>
        </div>
      </footer>
    </div>
  </div>

  <!-- Challenge Player Setup Modal -->
  <div id="players-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="challenge-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="challenge-modal-title">Challenge Setup</h2>
        <button id="btn-players-close" aria-label="Close challenge setup">‚úï</button>
      </header>
      <main class="modal-body">
        <div class="row">
          <label for="p1-name" id="p1-name-label">Player 1 name</label>
          <input id="p1-name" type="text" placeholder="P1" aria-describedby="p1-help" />
          <small id="p1-help" class="sr-only">Enter name for first player</small>
        </div>
        <div class="row">
          <label for="p2-name" id="p2-name-label">Player 2 name</label>
          <input id="p2-name" type="text" placeholder="P2" aria-describedby="p2-help" />
          <small id="p2-help" class="sr-only">Enter name for second player</small>
        </div>
      </main>
      <footer class="modal-footer">
        <button id="btn-players-cancel" aria-describedby="cancel-help">Cancel</button>
        <button id="btn-players-start" class="primary" aria-describedby="start-help">Start Challenge</button>
        <div class="modal-help">
          <small id="cancel-help" class="sr-only">Cancel challenge setup and return to game modes</small>
          <small id="start-help" class="sr-only">Begin two-player challenge mode</small>
        </div>
      </footer>
    </div>
  </div>

  <!-- Remote Challenge Modal -->
  <div id="remote-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="remote-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="remote-modal-title">Remote Challenge</h2>
        <button id="btn-remote-close" aria-label="Close remote challenge">‚úï</button>
      </header>
      <main class="modal-body">
        <!-- Step 1: Choose Create or Join -->
        <div id="remote-step-1">
          <div style="text-align: center; margin-bottom: 24px;">
            <p>Play with anyone, anywhere! No sign-in required.</p>
          </div>
          <div style="display: flex; gap: 16px; flex-direction: column;">
            <button id="btn-create-room" class="primary" style="padding: 16px;">
              <div style="font-size: 24px; margin-bottom: 8px;">üéÆ</div>
              <div><strong>Create Room</strong></div>
              <div style="font-size: 14px; opacity: 0.8;">Start a new challenge and share with a friend</div>
            </button>
            <button id="btn-join-room" style="padding: 16px;">
              <div style="font-size: 24px; margin-bottom: 8px;">üö™</div>
              <div><strong>Join Room</strong></div>
              <div style="font-size: 14px; opacity: 0.8;">Enter a room code to join an existing challenge</div>
            </button>
          </div>
        </div>

        <!-- Step 2: Create Room -->
        <div id="remote-step-create" style="display:none;">
          <div class="row">
            <label for="remote-host-name">Your Name</label>
            <input id="remote-host-name" type="text" placeholder="Enter your name" maxlength="20" />
          </div>
          <div style="text-align: center; margin-top: 16px;">
            <button id="btn-create-room-confirm" class="primary">Create Room & Get Link</button>
          </div>
        </div>

        <!-- Step 3: Room Created - Share Link -->
        <div id="remote-step-share" style="display:none;">
          <div style="text-align: center;">
            <div style="font-size: 48px; margin-bottom: 16px;">‚úÖ</div>
            <h3>Room Created!</h3>
            <p>Share this link with your friend:</p>
            <div style="background: var(--card); border: 2px solid var(--accent); border-radius: 8px; padding: 16px; margin: 16px 0;">
              <div style="font-family: monospace; font-size: 18px; font-weight: bold; color: var(--accent); margin-bottom: 8px;" id="remote-room-code">CODE-123</div>
              <div style="font-size: 14px; word-break: break-all; color: var(--muted);" id="remote-share-url">URL</div>
            </div>
            <div style="display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;">
              <button id="btn-copy-link" class="secondary">üìã Copy Link</button>
              <button id="btn-share-link" class="secondary">üì§ Share</button>
            </div>
            <div style="margin-top: 24px; padding: 16px; background: var(--glass); border-radius: 8px;">
              <div style="font-size: 14px; margin-bottom: 8px;"><strong>Waiting for opponent...</strong></div>
              <div id="remote-opponent-status" style="color: var(--muted); font-size: 13px;">Room created. Waiting for player 2 to join.</div>
            </div>
            <div style="margin-top: 16px;">
              <button id="btn-ready-host" class="primary" style="display:none;">Ready to Start!</button>
            </div>
          </div>
        </div>

        <!-- Step 4: Join Room -->
        <div id="remote-step-join" style="display:none;">
          <div class="row">
            <label for="remote-room-code-input">Room Code</label>
            <input id="remote-room-code-input" type="text" placeholder="e.g. FAITH-247" style="text-transform: uppercase;" maxlength="20" />
          </div>
          <div class="row">
            <label for="remote-join-name">Your Name</label>
            <input id="remote-join-name" type="text" placeholder="Enter your name" maxlength="20" />
          </div>
          <div style="text-align: center; margin-top: 16px;">
            <button id="btn-join-room-confirm" class="primary">Join Room</button>
          </div>
        </div>

        <!-- Step 5: Joined - Waiting for Host -->
        <div id="remote-step-joined" style="display:none;">
          <div style="text-align: center;">
            <div style="font-size: 48px; margin-bottom: 16px;">‚úÖ</div>
            <h3>Joined Room!</h3>
            <div style="margin: 24px 0; padding: 16px; background: var(--glass); border-radius: 8px;">
              <div style="font-size: 14px; margin-bottom: 8px;"><strong>Room:</strong> <span id="remote-joined-code">CODE-123</span></div>
              <div style="font-size: 14px; margin-bottom: 8px;"><strong>Host:</strong> <span id="remote-host-name-display">Player 1</span></div>
              <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border);">
                <div id="remote-joined-status" style="color: var(--muted); font-size: 13px;">Waiting for both players to be ready...</div>
              </div>
            </div>
            <button id="btn-ready-guest" class="primary">Ready to Start!</button>
          </div>
        </div>
      </main>
      <footer class="modal-footer">
        <button id="btn-remote-back" style="display:none;">‚Üê Back</button>
        <button id="btn-remote-cancel">Cancel</button>
      </footer>
    </div>
  </div>

  <!-- Community Modal (for room details etc.) -->
  <div id="community-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="community-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="community-modal-title">Details</h2>
        <button id="btn-community-close" aria-label="Close community details">‚úï</button>
      </header>
      <main class="modal-body" id="community-modal-body" aria-live="polite">
        <!-- populated dynamically -->
      </main>
      <footer class="modal-footer">
        <button id="btn-community-ok" class="primary">Close</button>
      </footer>
    </div>
  </div>

  <!-- Person Details Modal -->
  <div id="person-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="person-modal-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="person-modal-title">Person Details</h2>
        <button id="btn-person-close" aria-label="Close person details">‚úï</button>
      </header>
      <main class="modal-body" id="person-modal-body" aria-live="polite">
        <!-- populated dynamically -->
      </main>
      <footer class="modal-footer">
        <button id="btn-person-ok" class="primary">Close</button>
      </footer>
    </div>
  </div>

  <!-- Change Player Modal -->
  <div id="change-player-modal" class="modal-overlay" style="display:none" role="dialog" aria-labelledby="change-player-title" aria-modal="true">
    <div class="modal" role="document">
      <header class="modal-header">
        <h2 id="change-player-title">Change Player</h2>
        <button id="btn-change-player-close" aria-label="Close change player">‚úï</button>
      </header>
      <main class="modal-body">
        <div class="row">
          <label for="new-player-name">Enter your name</label>
          <input id="new-player-name" type="text" placeholder="Guest" maxlength="20" />
          <div id="player-name-hint" style="font-size:0.95em;color:var(--text-muted);margin-top:0.25em;">You can personalize your guest name. Click <b>Save</b> or press <b>Enter</b> to confirm.</div>
        </div>
      </main>
      <footer class="modal-footer">
        <button id="btn-change-player-save" class="primary" style="margin-right:0.5em;">Save</button>
        <button id="btn-change-player-cancel">Cancel</button>
      </footer>
    </div>
  </div>

  <!-- Welcome / First Time Modal -->
  <div id="welcome-modal" class="modal-overlay welcome-overlay" style="display:none" role="dialog" aria-labelledby="welcome-modal-title" aria-modal="true">
    <div class="modal welcome-modal-content" role="document">
      <header class="modal-header welcome-header">
        <h2 id="welcome-modal-title">
          <span class="welcome-icon">‚ú®</span> Welcome, Friend!
        </h2>
        <button id="btn-welcome-close" aria-label="Close welcome message" class="welcome-close-btn">‚úï</button>
      </header>
      <main class="modal-body welcome-body">
        <div class="welcome-hero-icon">üìñ</div>
        <p class="welcome-intro">We're so glad you're here to explore the Bible with us!</p>
          <div class="welcome-beta-box" style="background:#fbbf24; color:#222; border-radius:6px; padding:0.75rem 1rem; margin:1rem 0; font-size:1rem; font-weight:500;">
            <span style="font-weight:bold;">BETA:</span> This app is still in development. Your feedback is always appreciated!<br>
            <span style="font-size:0.97em; color:#444;">Explore the game to learn more about the Bible.</span>
          </div>
        
        <div class="welcome-tip-box">
          <div class="tip-icon">üí°</div>
          <div class="tip-content">
            <p class="tip-title">Quick Tip</p>
            <p>The settings at the top (like <strong>Difficulty</strong>) control the whole game. Feel free to adjust them anytime to match your pace.</p>
          </div>
        </div>
        
        <p class="welcome-outro">Have fun learning & growing!</p>
      </main>
      <footer class="modal-footer welcome-footer">
        <button id="btn-welcome-ok" class="primary welcome-btn">Let's Play! üöÄ</button>
      </footer>
    </div>
  </div>
  <!-- Feedback Modal -->
  <div id="feedback-modal" class="feedback-modal" style="display:none" role="dialog" aria-labelledby="feedback-title" aria-modal="true">
    <div class="feedback-content">
      <header class="feedback-header">
        <h2 id="feedback-title">We'd love your feedback!</h2>
        <button id="btn-feedback-close" class="close-feedback" aria-label="Close feedback">‚úï</button>
      </header>
      <main class="feedback-body">
        <p class="feedback-intro">Help us improve Who-Bible by sharing your thoughts.</p>
        
        <div class="feedback-section">
          <label>Overall Experience</label>
          <div class="feedback-rating" id="rating-overall">
            <button class="rating-btn" data-rating="1" aria-label="1 star">üò†</button>
            <button class="rating-btn" data-rating="2" aria-label="2 stars">üòï</button>
            <button class="rating-btn" data-rating="3" aria-label="3 stars">üòê</button>
            <button class="rating-btn" data-rating="4" aria-label="4 stars">üôÇ</button>
            <button class="rating-btn" data-rating="5" aria-label="5 stars">ü§©</button>
          </div>
        </div>

        <div class="feedback-form-group">
          <label for="feedback-experience">How do you feel about the app overall?</label>
          <textarea id="feedback-experience" rows="2" placeholder="Tell us about your experience with Who-Bible..."></textarea>
        </div>

        <div class="feedback-grid">
          <div class="feedback-form-group">
            <label for="rating-modes">Game Modes</label>
            <select id="rating-modes">
              <option value="" disabled selected>Select rating...</option>
              <option value="5">Excellent</option>
              <option value="4">Good</option>
              <option value="3">Average</option>
              <option value="2">Poor</option>
              <option value="1">Terrible</option>
            </select>
          </div>
          <div class="feedback-form-group">
            <label for="rating-accuracy">Question Accuracy</label>
            <select id="rating-accuracy">
              <option value="" disabled selected>Select rating...</option>
              <option value="5">Accurate</option>
              <option value="4">Mostly Accurate</option>
              <option value="3">Okay</option>
              <option value="2">Inaccurate</option>
              <option value="1">Very Inaccurate</option>
            </select>
          </div>
          <div class="feedback-form-group">
            <label for="rating-scenarios">Scenarios</label>
            <select id="rating-scenarios">
              <option value="" disabled selected>Select rating...</option>
              <option value="5">Engaging</option>
              <option value="4">Good</option>
              <option value="3">Okay</option>
              <option value="2">Boring</option>
              <option value="1">Confusing</option>
            </select>
          </div>
          <div class="feedback-form-group">
            <label for="rating-online">Playing Online with Friends</label>
            <select id="rating-online">
              <option value="" disabled selected>Select rating...</option>
              <option value="5">Amazing!</option>
              <option value="4">Works Great</option>
              <option value="3">Works OK</option>
              <option value="2">Had Issues</option>
              <option value="1">Didn't Work</option>
              <option value="0">Haven't Tried</option>
            </select>
          </div>
        </div>

        <div class="feedback-form-group">
          <label for="feedback-message">Comments / Suggestions</label>
          <textarea id="feedback-message" rows="3" placeholder="Any specific feedback?"></textarea>
        </div>
      </main>
      <footer class="feedback-footer">
        <button id="btn-feedback-cancel" class="btn-cancel">Maybe Later</button>
        <button id="btn-feedback-submit" class="btn-submit">Send Feedback</button>
      </footer>
    </div>
  </div>

  <!-- 
  <!-- Toast Notifications -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

</body>
</html>

